!function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){var i=e("store");PlaneBox.service("APIService",["$http",function(e){function t(t,n,a,s){var u,c=i.get("login-token"),l={method:t,url:r+n,data:a};"undefined"!=typeof c&&(l.headers={Authorization:"Bearer "+c}),u=e(l).then(function(e){o(s)&&s(e.data)},function(e){console.log("Error occurred making service request.")})}function n(e,t){return t}function o(e){return"undefined"!=typeof e&&"function"==typeof e}var r=window.data.apiURL;this.sendPictureStatistics=function(e,i){var r={category:"",picture:"",won:0},a=n(r,e);t("POST","/data/picture",a,function(e){o(i)&&i()})},this.sendStatistics=function(e,r){var a={level:"",clicks:"",won:0,time_taken:0,category:""},s="/data/"+i.get("session-token"),u=n(a,e);t("PUT",s,u,function(e){o(r)&&r()})},this.createSession=function(e,r){var a={city:"",state:"",zip:"",country:"",difficulty:""},s=n(a,e);t("POST","/data",s,function(e){i.set("session-token",e.session),o(r)&&r()})}}])},{store:19}],2:[function(e,t,n){PlaneBox.controller("GameController",function(e,t,n,i,o){function r(){e.gameRunning=!1,f(e.category)}function a(t,n){do randIndex=Math.floor(8*Math.random());while(m==n[randIndex]);e.mainImg=t+"/"+t+n[randIndex]+".jpg",C=n[randIndex],m=n[randIndex]}function s(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),i-=1,t=e[i],e[i]=e[n],e[n]=t}function u(e){var t=0,n=0;return e>60?(t=Math.floor(e/60),n=e%60):n=e,10>n?t+":0"+n:t+":"+n}function c(n){var i,a;t.cancel(secondTimeout),t.cancel(outOfTime),t.cancel(timer),e.gameRunning=!1,e.timeMsg=u(e.secondsTimer),h.style.visibility="visible",v.style.visibility="visible",p+=e.secondsTimer,i={level:e.levelNo,clicks:e.guessCount,won:0,time_taken:e.secondsTimer,category:e.category},a={picture:C,category:e.category,won:0},"SUCCEED"==n?(e.winMsg="Congratulations!",w+=1,i.won=1,a.won=1,o.sendStatistics(i),o.sendPictureStatistics(a)):(e.winMsg="Try again!",S+=1,o.sendStatistics(i),o.sendPictureStatistics(a)),e.secondsTimer=0,e.levelNo>=10&&(v.style.visibility="hidden",y.style.visibility="visible",e.winMsg="Level Stats",e.timeMsg=u(p),e.winCountMsg="Wins: "+w,e.loseCountMsg="Loses: "+S,h.style.visibility="visible"),e.levelNo+=1,r(),l(),d()}function l(){for(var t=0;t<e.columns;t++)for(var n=0;n<e.rows;n++)e.createTile(t,n)}function f(t){var n=["1","2","3","4","5","6","7","9","10"];s(n),e.img1=t+"/"+t+n[0]+".jpg",e.img2=t+"/"+t+n[1]+".jpg",e.img3=t+"/"+t+n[2]+".jpg",e.img4=t+"/"+t+n[3]+".jpg",e.img5=t+"/"+t+n[4]+".jpg",e.img6=t+"/"+t+n[5]+".jpg",e.img7=t+"/"+t+n[6]+".jpg",e.img8=t+"/"+t+n[7]+".jpg",a(t,n)}function d(){var e=document.getElementsByClassName("tile");for(tileCount=0;tileCount<e.length;tileCount++)e[tileCount].style.visibility="visible"}e.size=i.getGridSize(),n.setRows(e.size),n.setColumns(e.size),e.rows=n.rows,e.columns=n.columns,e.tileWidth=n.getTileWidth(),e.tileHeight=n.getTileHeight(),e.secondsTimer=0,e.category=i.getCategory(),e.levelNo=1,e.winMsg="",e.timeMsg="",e.winCountMsg="",e.loseCountMsg="",e.completeMsg="",e.guessCount=0;var g=e.rows*e.columns-1,m="initialValue",h=document.getElementById("popup"),v=document.getElementById("btnNextLevel"),y=document.getElementById("btnComplete"),p=0,w=0,S=0,C=0;e.createTile=function(e,t){var i=n.addTile(e,t);return i},r(),e.range=function(e){return new Array(e)},e.guess=function(t){e.guessCount+=1,1==e.gameRunning&&e.mainImg==t&&c("SUCCEED")},e.removeRandomTile=function(){var e=n.getRandomTile();document.getElementById(e).style.visibility="hidden",n.removeTileFromArray(e)},e.startGame=function(){0==e.gameRunning&&(e.gameRunning=!0,t(e.timer(),1e3),e.onTimeout(),outOfTime=t(e.outOfTime,5e3*g+1e3))},e.timer=function(){e.secondsTimer++,timer=t(e.timer,1e3)},e.onTimeout=function(){e.removeRandomTile(),secondTimeout=t(e.onTimeout,5e3)},e.outOfTime=function(){c("FAIL")},e.hidePopUp=function(){h.style.visibility="hidden",v.style.visibility="hidden",e.guessCount=0,setTimeout(e.startGame,5e3)},setTimeout(e.startGame,5e3)})},{}],3:[function(e,t,n){PlaneBox.controller("MenuController",function(e,t,n){saveToSessionStorage(),e.difficulty=t.getDifficulty(),e.category=t.getCategory(),e.changeDifficulty=function(n){t.setDifficulty(n),e.difficulty=n},e.changeCategory=function(n){t.setCategory(n),e.category=n},e.startGame=function(){var i=window.data.geoData,o={city:i.address.city,state:i.address.region,zip:i.address.postalCode,country:i.address.country,difficulty:t.getDifficultyAsNumber(),category:e.category};n.createSession(o,function(){window.location="main-game.html"})}}),PlaneBox.service("menuService",function(e){var t="App.SelectedValue",n={Difficulty:"easy",Category:"city",Size:3};return saveToSessionStorage=function(){e.sessionStorage.setItem(t,JSON.stringify(n))},setDifficulty=function(e){n.Difficulty=e,setGridSize(),saveToSessionStorage()},setCategory=function(e){n.Category=e,saveToSessionStorage()},setGridSize=function(){"easy"==n.Difficulty&&(n.Size=3),"medium"==n.Difficulty&&(n.Size=4),"hard"==n.Difficulty&&(n.Size=5)},getDifficulty=function(){var e=loadFromSessionStorage();return n.Difficulty=e.Difficulty,n.Difficulty},getDifficultyAsNumber=function(){var e=loadFromSessionStorage(),t=0;return n.Difficulty=e.Difficulty,"medium"==n.Difficulty?t=1:"hard"==n.Difficulty&&(t=2),t},getCategory=function(){var e=loadFromSessionStorage();return n.Category=e.Category,n.Category},getGridSize=function(){var e=loadFromSessionStorage();return n.Size=e.Size,n.Size},loadFromSessionStorage=function(){return JSON.parse(e.sessionStorage.getItem(t))},{setDifficulty:setDifficulty,setCategory:setCategory,setGridSize:setGridSize,getDifficulty:getDifficulty,getCategory:getCategory,getGridSize:getGridSize,getDifficultyAsNumber:getDifficultyAsNumber}})},{}],4:[function(e,t,n){PlaneBox.controller("forgotPwController",["$scope","$http",function(e,t){var n=window.data.apiURL+"/auth/reset";e.remindPassword=function(){console.log("sending to server");t({method:"POST",url:n,data:{email:e.email}}).then(function(e){console.log("Success. Email is on its way."),window.location.href="/passwordreset.html"},function(e){console.log(e)})}}])},{}],5:[function(e,t,n){PlaneBox.service("createGrid",function(){this.rows=0,this.columns=0,this.imageHeightWidth=480,this.tiles=[],this.setRows=function(e){this.rows=e},this.setColumns=function(e){this.columns=e},this.getTileWidth=function(){return this.imageHeightWidth/this.columns},this.getTileHeight=function(){return this.imageHeightWidth/this.rows},this.addTile=function(e,t){var n=e+"."+t;return-1==this.tiles.indexOf(n)?(this.tiles.push(n),this.tiles[this.tiles.length-1]):n},this.getRandomTile=function(){var e=Math.floor(Math.random()*this.tiles.length);return this.tiles[e]},this.removeTileFromArray=function(e){this.tiles.splice(this.tiles.indexOf(e),1)}})},{}],6:[function(e,t,n){PlaneBox.controller("passwordController",["$scope","$http",function(e,t){var n=window.data.apiURL+"/auth/password";e.resetPassword=function(){console.log("sending to server");t({method:"PUT",url:n,data:{password:e.password,password_confirmation:e.confirmPw,email:e.email,token:e.token}}).then(function(e){console.log("You have reset your password successfully."),window.location.href="/index.html"},function(e){console.log(e)})}}])},{}],7:[function(e,t,n){PlaneBox.controller("loginController",["$scope","$http",function(t,n){var i=window.data.apiURL+"/auth/login",o="You are now logged in.",r="Username and password combination is not valid.",a=e("store");t.submitLogin=function(){n({method:"POST",url:i,data:{email:t.emailLogin,password:t.passwordLogin}}).then(function(e){a.set("login-token",e.token),window.alert(o),window.location.href="/index.html",console.log(e),a.set("login-token",e.data.token)},function(e){window.alert("Error "+e.status+": "+r)})}}])},{store:19}],8:[function(e,t,n){PlaneBox.controller("mainController",["$scope","$http",function(e,t){var n=window.data.apiURL+"/profile",i="User Profile created. You are now logged in.",o="Email already in use.";e.genderOptions=[{value:0,text:"Female"},{value:1,text:"Male"}],e.submitForm=function(){console.log("sending to server");t({method:"POST",url:n,data:{name:e.name,email:e.email,password:e.password,age:e.age,gender:e.genderSelect,occupation:e.occupation}}).then(function(e){window.alert(i),window.location.href="/index.html"},function(e){window.alert("Error "+e.status+": "+o)})}}])},{}],9:[function(e,t,n){t.exports=function(e,t){return document.querySelectorAll(e).length>0?void t():!1}},{}],10:[function(e,t,n){var i=e("store");t.exports=function(){function e(){var e=i.get("geoData");0==window.data.geoData.length&&null==e?geolocator.locate(function(e){window.data.geoData=e,i.set("geoData",window.data.geoData),t()},function(e){},!0):(window.data.geoData=e,t())}function t(){if(!(n.length>0))for(var e=0;e<n.length;e++){var t=n[e];t(window.data.geoData)}}var n=[];return e(),{attachCallback:function(e){return $.isFunction(e)?(n.push(e),!0):!1}}}()},{store:19}],11:[function(e,t,n){var i=e("waitFor"),o=e("sassqwatch");i(".sassqwatch",function(){o.responsiveImages()})},{sassqwatch:18,waitFor:9}],12:[function(e,t,n){t.exports=function(e){if("string"!=typeof e)return e;var t=e.slice(0,1),n=e.slice(1,e.length);return"."==t?document.getElementsByClassName(n):"#"==t?document.getElementsById(n):void 0}},{}],13:[function(e,t,n){t.exports=function(e,t){for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e}},{}],14:[function(e,t,n){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;r>i;){var a;i in o&&(a=o[i],e.call(n,a,i,o)),i++}})},{}],15:[function(e,t,n){t.exports=function(e){if(e.hasAttributes()){var t,n=0,i={},o="";for(n;n<e.attributes.length;n++)t=e.attributes[n],-1!=t.name.indexOf("data-")&&(o=t.name.slice(5),i[o]=t.value);return i}}},{}],16:[function(e,t,n){var i=function(e,t,n){var i=!1,o=new Image,r=function(){i||(i=!0,n(e,t),o=null)};o.addEventListener("load",r),o.src=e,o.complete&&r()};t.exports=i},{}],17:[function(e,t,n){t.exports=function(t){var n=e("./sassqwatch"),i=e("./elementify"),o=e("./preloader"),r=e("./extend"),a=e("./getData"),s=i(".sassqwatch"),u=r({selector:s},t),c=[],l=window.devicePixelRatio>=1.5?!0:!1,f=0,d=function(e){var t=g(e),n={$image:e,loaded:[],originalSrc:t,activeSrc:t};n=r(n,a(e)),n.loaded.push(n.originalSrc),c.push(n)},g=function(e){var t="";return"IMG"==e.tagName?t=e.getAttribute("src"):(t=getComputedStyle(e).getPropertyValue("background-image"),t=t?t:e.style.backgroundImage,t=t.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")),t},m=function(e,t){"IMG"===e.tagName?e.setAttribute("src",t):e.style.backgroundImage="url("+t+")"},h=function(e,t){return l&&e[t+"-2x"]?e[t+"-2x"]:e[t]},v=function(){var e=n.fetchMediaQuery(),t=!1,i=void 0,r=void 0,a=void 0,s=0,u=0;for(s;s<c.length;s++){if(r=c[s],a=h(r,e),!a){for(u=n.fetchMqIndex(e);u>0&&(i=n.fetchMqName(u),!(a=h(r,i)));u--);a=a?a:r.originalSrc}if(-1===a.indexOf(r.activeSrc)){for(u=0;u<r.loaded.length;u++)if(-1!=r.loaded[u].indexOf(a)){t=!0;break}t?m(r.$image,a):o(a,r,function(e,t){m(t.$image,e),t.loaded.push(e)}),r.activeSrc=a}}};for(u.selector!==s&&(u.selector=i(u.selector)),f;f<u.selector.length;f++)d(u.selector[f]);return v(),n.onChange(v),n}},{"./elementify":12,"./extend":13,"./getData":15,"./preloader":16,"./sassqwatch":18}],18:[function(e,t,n){e("./forEach");var i=(document.getElementsByTagName("body")[0],document.getElementsByTagName("title")[0]),o=document.getElementsByTagName("head")[0],r="",a="",s={},u=[],c=[],l=function(e,t){var n=0;for(n;n<c.length;n++)c[n].call(this,e,t)},f=function(){a=r,r=b(),r!=a&&l(r,a)},d=function(){var e=getComputedStyle(i).getPropertyValue("font-family");u=e.replace(/['"\s]/g,"").split(","),u.forEach(function(e,t){s[e]=t})},g=function(e){return c.push(e),this},m=function(e){return e=e.toLowerCase(),"min"===e?w:"max"===e?S:"only"===e?C:function(){return!1}},h=function(e,t,n,i){var o=0,s=m(e),u=function(e,r){return s(t)?i&&o>0?!1:(n(e,r),void o++):(o=0,!1)};return u(r,a),g(u),this},v=function(e,t,n){return h("min",e,t,n),this},y=function(e,t,n){return h("max",e,t,n),this},p=function(e,t){return h("only",e,t),this},w=function(e){var t=s[b()],n=s[e];return t>=n},S=function(e){var t=s[b()],n=s[e];return n>t},C=function(e){return b()==e},b=function(){var e=getComputedStyle(o).getPropertyValue("font-family");return e=e.replace(/['",]/g,"")},x=function(e){return s[e]},T=function(e){return u[e]},D=e("./responsiveImages"),E=function(){return d(),r=b(),window.onresize=f,{responsiveImages:D,fetchMediaQuery:b,fetchMqIndex:x,fetchMqName:T,onChange:g,isAbove:w,isBelow:S,matches:C,query:h,only:p,min:v,max:y}}.call();t.exports=E},{"./forEach":14,"./responsiveImages":17}],19:[function(e,t,n){!function(e){function n(){try{return s in e&&e[s]}catch(t){return!1}}function i(e){return e.replace(/^d/,"___$&").replace(g,"___")}var o,r={},a=e.document,s="localStorage",u="script";if(r.disabled=!1,r.version="1.3.17",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var i=r.get(e,t);n(i),r.set(e,i)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},n())o=e[s],r.set=function(e,t){return void 0===t?r.remove(e):(o.setItem(e,r.serialize(t)),t)},r.get=function(e,t){var n=r.deserialize(o.getItem(e));return void 0===n?t:n},r.remove=function(e){o.removeItem(e)},r.clear=function(){o.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var t=0;t<o.length;t++){var n=o.key(t);e(n,r.get(n))}};else if(a.documentElement.addBehavior){var c,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+u+">document.w=window</"+u+'><iframe src="/favicon.ico"></iframe>'),l.close(),c=l.w.frames[0].document,o=c.createElement("div")}catch(f){o=a.createElement("div"),c=a.body}var d=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),c.appendChild(o),o.addBehavior("#default#userData"),o.load(s);var n=e.apply(r,t);return c.removeChild(o),n}},g=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=d(function(e,t,n){return t=i(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(s),n)}),r.get=d(function(e,t,n){t=i(t);var o=r.deserialize(e.getAttribute(t));return void 0===o?n:o}),r.remove=d(function(e,t){t=i(t),e.removeAttribute(t),e.save(s)}),r.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(s)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=d(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,o=0;n=i[o];++o)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var m="__storejs__";r.set(m,m),r.get(m)!=m&&(r.disabled=!0),r.remove(m)}catch(f){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof t&&t.exports&&this.module!==t?t.exports=r:"function"==typeof define&&define.amd?define(r):e.store=r}(Function("return this")())},{}]},{},[11,10,1,8,2,5,7,3,6,4]);